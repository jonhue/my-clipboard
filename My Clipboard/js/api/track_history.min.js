function getDate(e){var t=new Date,i=t.getMonth()+1,s=t.getDate(),o=t.getHours(),n=t.getMinutes();o=(o+24)%24;var a="AM";if(0==o?o=12:o>12&&(o%=12,a="PM"),e)var r=t.getSeconds(),l=((""+i).length<2?"0":"")+i+"/"+((""+s).length<2?"0":"")+s+" - "+((""+o).length<2?"0":"")+o+":"+((""+n).length<2?"0":"")+n+":"+((""+r).length<2?"0":"")+r+"  "+a;else var l=((""+i).length<2?"0":"")+i+"/"+((""+s).length<2?"0":"")+s+" - "+((""+o).length<2?"0":"")+o+":"+((""+n).length<2?"0":"")+n+"  "+a;return l}function trackHistory(){var e=Windows.ApplicationModel.Store.CurrentAppSimulator,t=e.licenseInformation,i="fg";if(" "==i||""==i)$("#clipboard-icon").addClass("cleared"),$("section#history .item").removeClass("active");else{t.productLicenses[1].isActive||$("#more-arrow").show();var s=Windows.Storage.ApplicationData.current.roamingSettings,o=s.values.historyEventsCount;o++,o>0&&$("section#history .item#no-events").fadeOut(250,function(){$("section#history .item#no-events").remove()});var n=new Windows.Storage.ApplicationDataCompositeValue,a=getDate(!1);if(n.date=a,n.value=i,s.values[o]=n,o>maxHistoryEvents){var r=s.values.historyEventsMin;r=o-maxHistoryEvents,$("section#history .item:not(#history-full, #no-items)").last().remove(),t.productLicenses[1].isActive&&!$("section#history .item#history-full").length&&$("section#history").append('<div class="item" id="history-full"><p class="large">We cannot find older copies :-(</p></div>')}$("section#history .item:first-child").removeClass("active"),setTimeout(function(){if($("section#history").prepend('<div class="item active" id='+o+'><p class="time">'+n.date+'</p><p class="large">'+n.value+"</p></div>"),item=$("section#history .item#"+o+" p.large"),item.html().length>300){var e=item.text();e=e.substr(0,300)+"...",item.text(e)}$("#clipboard-icon").removeClass("shaking cleared"),s.values.historyEventsCount=o,s.values.historyEventsMin=r,$("section#history p.large").click(function(){copyClipboard($(this).closest("div").prop("id")),showMessage("copied")})},100)}}function pingClipboard(){window.setInterval(function(){trackHistory()},1e3)}!function(){"use strict";var e=Windows.Storage.ApplicationData.current.localSettings;(e.values.listening=!0)&&(pingClipboard(),$("section#run").addClass("hide hidden"),$("#layout-wrapper").removeClass("down"))}();